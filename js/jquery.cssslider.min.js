;(function(e,g,h,c){var f="AnimatedSlider",d={infiniteScroll:true,visibleItems:3,changedCallback:null,willChangeCallback:null,userChangedCallback:null};var a=b();function i(k,j){this.element=k;this.jqElem=e(k);this.items=e(this.element).children("li");this.numSliderItems=this.items.length;this.currentItem=1;this.commandQueue=[];this.jqElem.data(f,this);this.options=e.extend({},d,j);this._defaults=d;this._name=f;this.inTransition=false;this.init()}i.prototype.init=function(){var j=this;this.jqElem.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){if(j.inTransition){j.inTransition=false;if(j.options.changedCallback){j.options.changedCallback(j,j.currentItem)}setTimeout(function(){j.doCommandQueue()},50)}});if(this.options.prevButton){e(this.options.prevButton).on("click",function(k){k.preventDefault();j.prevItem()})}if(this.options.nextButton){e(this.options.nextButton).on("click",function(k){k.preventDefault();j.nextItem()})}this.setItem(1);this.inTransition=false};i.prototype.setItem=function(p){var l=this.items;l.removeClass();var k=function(q){return q};var j;if(this.options.infiniteScroll){j=this._wrapIndex}else{j=k}for(var m=0;m<l.length;m++){var o=l.eq(m);if(m==p){o.addClass("current_item")}else{if(m<p){o.addClass("previous_hidden")}else{if(m>p){o.addClass("next_hidden")}}}}if(this.options.infiniteScroll){l.eq(this._wrapIndex(p-1)).removeClass().addClass("previous_item");l.eq(this._wrapIndex(p+1)).removeClass().addClass("next_item");if(this.options.visibleItems==3){l.eq(this._wrapIndex(p-2)).removeClass().addClass("previous_hidden");l.eq(this._wrapIndex(p+2)).removeClass().addClass("next_hidden")}else{if(this.options.visibleItems==5){l.eq(this._wrapIndex(p-2)).removeClass().addClass("previous_item_2");l.eq(this._wrapIndex(p+2)).removeClass().addClass("next_item_2");l.eq(this._wrapIndex(p-3)).removeClass().addClass("previous_hidden");l.eq(this._wrapIndex(p+3)).removeClass().addClass("next_hidden")}}}else{if(p-1>=0){l.eq(p-1).removeClass().addClass("previous_item")}if(p+1<this.numSliderItems){l.eq(p+1).removeClass().addClass("next_item")}if(this.options.visibleItems==5){if(p-2>=0){l.eq(p-1).removeClass().addClass("previous_item_2")}if(p+2<this.numSliderItems){l.eq(p+1).removeClass().addClass("next_item_2")}}}currentItem=p;if(a){this.inTransition=true;if(this.options.willChangeCallback){this.options.willChangeCallback(this,this.currentItem)}}else{if(this.options.willChangeCallback){this.options.willChangeCallback(this,this.currentItem)}if(this.options.changedCallback){this.options.changedCallback(this,this.currentItem)}}};i.prototype.nextItem=function(){if(this.inTransition){this.commandQueue.push("nextItem");return}if(this.options.infiniteScroll||this.currentItem<this.numSliderItems-1){this.currentItem+=1;this.currentItem=this._wrapIndex(this.currentItem);this.setItem(this.currentItem);if(this.options.userChangedCallback){this.options.userChangedCallback(this,this.currentItem)}}};i.prototype.prevItem=function(){if(this.inTransition){this.commandQueue.push("prevItem");return}if(this.options.infiniteScroll||this.currentItem>=1){this.currentItem-=1;this.currentItem=this._wrapIndex(this.currentItem);this.setItem(this.currentItem);if(this.options.userChangedCallback){this.options.userChangedCallback(this,this.currentItem)}}};i.prototype.doCommandQueue=function(){if(this.commandQueue.length==0){return}var j=this.commandQueue.splice(0,1)[0];this[j]()};i.prototype.refresh=function(){this.items=e(this.element).children("li");this.numSliderItems=this.items.length;this.setItem(this.currentItem)};i.prototype._wrapIndex=function(j){if(j<0){j+=this.numSliderItems}if(j>=this.numSliderItems){j-=this.numSliderItems}return j};e.fn[f]=function(j){return this.each(function(){if(!e.data(this,"plugin_"+f)){e.data(this,"plugin_"+f,new i(this,j))}})};function b(){var j=h.body||h.documentElement;var l=j.style;var m="transition";if(typeof l[m]=="string"){return true}v=["Moz","Webkit","Khtml","O","ms"],m=m.charAt(0).toUpperCase()+m.substr(1);for(var k=0;k<v.length;k++){if(typeof l[v[k]+m]=="string"){return true}}return false}})(jQuery,window,document);